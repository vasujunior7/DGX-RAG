# ====================================================================
# üéØ HackRX API - Environment Variables Configuration
# ====================================================================
# Copy this file to .env and fill in your actual API keys
# Required for Smart Retrieval System with Enhanced Token Efficiency

# ====================================================================
# ü§ñ LLM API Keys (Primary Models)
# ====================================================================

# Anthropic Claude API Key (REQUIRED for Smart Retrieval)
# Get from: https://console.anthropic.com/
# Used by: Enhanced smart retrieval system with 50-70% token reduction
ANTHROPIC_API_KEY=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
# Groq API Key (Used by GOAT model - V1 API)
# Get from: https://console.groq.com/
# Used by: Fast Llama3 inference for V1 endpoints
GROQ_API_KEY=your_groq_api_key_here

# Google Gemini API Key (Legacy support)
# Get from: https://makersuite.google.com/app/apikey
# Used by: Fallback model support
GEMINI_API_KEY=your_gemini_api_key_here

# ====================================================================
# üîó LangChain Integration (Optional)
# ====================================================================

# LangChain API Key for Smith tracing and monitoring
# Get from: https://smith.langchain.com/
LANGCHAIN_API_KEY=your_langchain_api_key_here

# LangChain Tracing Configuration
LANGCHAIN_TRACING_V2=false
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_PROJECT=hackrx-smart-retrieval

# ====================================================================
# ‚öôÔ∏è Smart Retrieval System Configuration
# ====================================================================

# Smart Retrieval Parameters
SMART_RETRIEVAL_ENABLED=true
SMART_RETRIEVAL_BASE_K=20
SMART_RETRIEVAL_RELEVANCE_THRESHOLD=0.3
SMART_RETRIEVAL_MAX_CHUNKS_SIMPLE=2
SMART_RETRIEVAL_MAX_CHUNKS_MEDIUM=4
SMART_RETRIEVAL_MAX_CHUNKS_COMPLEX=6

# Token Optimization Settings
TOKEN_OPTIMIZATION_ENABLED=true
ESTIMATED_TOKENS_PER_CHUNK=200
TARGET_TOKEN_REDUCTION_PERCENTAGE=50

# ====================================================================
# üè• Legal Domain Configuration
# ====================================================================

# Legal Keyword Categories (comma-separated)
LEGAL_KEYWORDS_COVERAGE=cover,coverage,covered,benefit,eligible,included
LEGAL_KEYWORDS_EXCLUSIONS=exclude,exclusion,not covered,limitation,except
LEGAL_KEYWORDS_CONDITIONS=condition,requirement,must,shall,provided that
LEGAL_KEYWORDS_WAITING_PERIOD=waiting period,wait,months,continuous coverage
LEGAL_KEYWORDS_CLAIMS=claim,reimburs,payment,settle,process
LEGAL_KEYWORDS_MEDICAL=medical,treatment,surgery,hospital,doctor,physician
LEGAL_KEYWORDS_PREMIUM=premium,payment,due,grace period,renewal
LEGAL_KEYWORDS_POLICY=policy,insured,policyholder,sum insured,schedule

# ====================================================================
# üöÄ Performance & Monitoring
# ====================================================================

# Application Environment
NODE_ENV=development
DEBUG=true

# API Configuration
HACKRX_API_PORT=8000
HACKRX_API_HOST=0.0.0.0

# Performance Monitoring
ENABLE_PERFORMANCE_TRACKING=true
ENABLE_TOKEN_USAGE_LOGGING=true
ENABLE_RETRIEVAL_ANALYTICS=true

# Rate Limiting Protection
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# ====================================================================
# üìä HackRX Evaluation Metrics
# ====================================================================

# Explainability Features
ENABLE_EXPLAINABILITY=true
ENABLE_CLAUSE_TRACING=true
ENABLE_DECISION_RATIONALE=true

# Performance Metrics
TRACK_TOKEN_EFFICIENCY=true
TRACK_RETRIEVAL_PRECISION=true
TRACK_RESPONSE_LATENCY=true

# ====================================================================
# üîß Development & Testing
# ====================================================================

# Test Configuration
TEST_PDF_URL=https://hackrx.blob.core.windows.net/assets/hackrx_6/policies/EDLHLGA23009V012223.pdf
TEST_MODE=false
FORCE_REGENERATE_CHUNKS=false

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=logs/hackrx.log
ENABLE_REQUEST_LOGGING=true

# Cache Configuration
ENABLE_FAISS_CACHING=true
CACHE_DIRECTORY=cached_pdfs
CHUNKS_CACHE_FILE=chunks.pkl
INDEX_CACHE_FILE=faiss.index

# ====================================================================
# üèÜ HackRX Competition Settings
# ====================================================================

# Competition API Endpoint
HACKRX_SUBMISSION_ENDPOINT=http://localhost:8000/api/v2/hackrx/run
HACKRX_AUTH_TOKEN=c39dcb0f04b2bb1826f03b76d21de9dad53cb114bd79c14ba03faf1c78bed067

# Evaluation Criteria Optimization
OPTIMIZE_FOR_ACCURACY=true
OPTIMIZE_FOR_TOKEN_EFFICIENCY=true
OPTIMIZE_FOR_LATENCY=true
OPTIMIZE_FOR_EXPLAINABILITY=true

# ====================================================================
# üìã Usage Instructions
# ====================================================================
# 
# 1. Copy this file: cp env.example.updated .env
# 2. Get your API keys:
#    - Anthropic: https://console.anthropic.com/ (REQUIRED)
#    - Groq: https://console.groq.com/ (for V1 API)
#    - LangChain: https://smith.langchain.com/ (optional)
# 3. Replace "your_*_api_key_here" with actual keys
# 4. Adjust configuration parameters as needed
# 5. Test with: python Model/AURA/test_smart_retrieval.py
#
# üéØ Priority: ANTHROPIC_API_KEY is required for smart retrieval
# üí° Benefits: 50-70% token reduction + better accuracy
# ‚úÖ HackRX Ready: Optimized for all evaluation criteria
# ==================================================================== 